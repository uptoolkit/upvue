var Te=Object.defineProperty;var X=Object.getOwnPropertySymbols;var ke=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable;var ee=(l,u,c)=>u in l?Te(l,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):l[u]=c,P=(l,u)=>{for(var c in u||(u={}))ke.call(u,c)&&ee(l,c,u[c]);if(X)for(var c of X(u))Le.call(u,c)&&ee(l,c,u[c]);return l};(function(l,u){typeof exports=="object"&&typeof module!="undefined"?u(exports,require("vue"),require("ant-design-vue"),require("@bundled-es-modules/axios")):typeof define=="function"&&define.amd?define(["exports","vue","ant-design-vue","@bundled-es-modules/axios"],u):(l=typeof globalThis!="undefined"?globalThis:l||self,u(l.upvue={},l.Vue,l.Antd,l.axios))})(this,function(l,u,c,A){"use strict";function te(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var re=te(c);class S{__(t,r=null,i=null){return this.get(t,r,i)}add(t,r=null){r||(r=this.locale),this.translations.set(r,Object.assign({},this.translations.get(r),t))}choice(t,r=1,i=null,s=null){s||(s=this.locale);let n=null;const a=this.fetch(`${s}.${t}`);if(!a)return this.options.storeNotFounds&&window[this.options.globalName]._notFounds.push(t),this.forceDisplayKeys?i?this.constructor.replaceString(t,i):t:"";const o=a.split("|");return o.some(w=>(n=this.constructor.matchChoiceCount(w,r),n)),n===!1&&(n=r>1?o[1]:o[0]),this._returnString(t,n,i)}constructor(t={},r="en",i={}){i=Object.assign({globalName:"translations",forceDisplayKeys:!0,storeNotFounds:!0},i),this.forceDisplayKeys=i.forceDisplayKeys,this.locale=r,this.translations=new Map,i.globalName&&(window[i.globalName]===void 0&&(window[i.globalName]={}),t=Object.assign({},window[i.globalName],t),i.storeNotFounds&&(window[i.globalName]._notFounds=[])),this.set(t,this.locale),this.options=i}static decodeHtml(t){const r=document.createElement("textarea");return r.innerHTML=t,r.value}fetch(t){const r=t.split("."),i=r.shift();let s=this.translations.get(i);return r.forEach(n=>{s&&(s=s[n])}),s}get(t,r=null,i=null){typeof r=="string"&&(i=r,r=null),i||(i=this.locale);const s=this.fetch(`${i}.${t}`);return this._returnString(t,s,r)}has(t,r=null){return r||(r=this.locale),this.fetch(`${r}.${t}`)!==void 0}static matchChoiceCount(t,r){const i=t.match(/^[{[]([^[\]{}]*)[}\]](.*)/);if(!i)return!1;if(i[1].includes(",")){const[s,n]=i[1].split(",",2);if(n==="*"&&r>=s||s==="*"&&r<=n||r>=s&&r<=n)return i[2]}return parseInt(i[1],10)===r?i[2]:null}static replaceString(t,r){return r?Object.entries(r).reduce((i,[s,n])=>{n=String(n);const a=s.toLowerCase();return i.replace(`:${a}`,n).replace(`:${a.toUpperCase()}`,n.toUpperCase()).replace(`:${a.charAt(0).toUpperCase()}${a.slice(1)}`,`${n.charAt(0).toUpperCase()}${n.slice(1)}`)},t):t}_returnString(t,r,i){return typeof r!="string"&&this.forceDisplayKeys&&(r=t,this.options.storeNotFounds&&window[this.options.globalName]._notFounds.push(t)),i&&(r=this.constructor.replaceString(r,i)),this.constructor.decodeHtml(r)}setLocale(t){this.locale=t}set(t,r=null){r||(r=this.locale),this.translations.set(r,t)}}function ie(e={},t="en",r={}){return new S(e,t,r)}var se={name:"vue-i18n",production:!0,install(e,t={}){t=Object.assign({instance:null,translations:{},language:"en",options:{}},t);let r=t.instance;r||(r=new S({},t.language,t.options)),r.add(t.translations,t.language),typeof e.config!="undefined"&&typeof e.config.globalProperties!="undefined"?(e.config.globalProperties.$i18n=r,e.config.globalProperties.__=r.__,e.config.globalProperties.choice=r.choice):(e.prototype.$i18n=r,e.$i18n=r,e.mixin({methods:{__:r.__,choice:r.choice}}))}};function ne(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var z={};(function(e){e.__esModule=!0;var t=function(){function r(i){this.options=i}return r.prototype.get=function(i,s){var n=i.split("."),a=this.options;return n.forEach(function(o){a&&(a=a[o])}),!a&&s&&(typeof s=="function"?a=s():a=s),a},r.prototype.has=function(i){var s=i.split("."),n=this.options;return s.forEach(function(a){n&&(n=n[a])}),!!n},r.prototype.set=function(i,s){var n=i.split("."),a=this.options;return n.forEach(function(o){a&&(a=a[o])}),a&&(a=s),a},r.prototype.all=function(){return this.options},r}();e.default=t})(z);var ae=ne(z),oe=(e,t)=>{for(const[r,i]of t)e[r]=i;return e};const ue=u.defineComponent({components:[c.ConfigProvider],provide(){return{loading:this.loading,api:this.api,http:this.http,config:this.config,i18n:this.i18n,t:this.i18n.__.bind(this.i18n),choice:this.i18n.choice.bind(this.i18n)}},setup(){const e=u.ref(!1);let{config:t,message:r,notification:i,api:s,http:n,i18n:a}=l.useUp(),o=u.ref(t.get("locale"));return{loading:e,locale:o,api:s,http:n,config:t,message:r,notification:i,i18n:a}}});function le(e,t,r,i,s,n){const a=u.resolveComponent("a-config-provider");return u.openBlock(),u.createBlock(a,null,{default:u.withCtx(()=>[u.renderSlot(e.$slots,"default")]),_:3})}var j=oe(ue,[["render",le]]),fe=Object.defineProperty,ce=(e,t,r)=>t in e?fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,v=(e,t,r)=>(ce(e,typeof t!="symbol"?t+"":t,r),r);function he(e,t){return t.forEach(function(r){Object.keys(r).forEach(function(i){if(i!=="default"&&!(i in e)){var s=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:function(){return r[i]}})}})}),Object.freeze(e)}class I{constructor(t={}){this.record(t)}all(){return this.errors}has(t){let r=this.errors.hasOwnProperty(t);return r||(r=Object.keys(this.errors).filter(s=>s.startsWith(`${t}.`)||s.startsWith(`${t}[`)).length>0),r}first(t){return this.get(t)[0]}get(t){return this.errors[t]||[]}any(t=[]){if(t.length===0)return Object.keys(this.errors).length>0;let r={};return t.forEach(i=>r[i]=this.get(i)),r}record(t={}){this.errors=t}clear(t){if(!t){this.errors={};return}let r=Object.assign({},this.errors);Object.keys(r).filter(i=>i===t||i.startsWith(`${t}.`)||i.startsWith(`${t}[`)).forEach(i=>delete r[i]),this.errors=r}}function pe(e){return Object.prototype.toString.call(e)==="[object Array]"}function T(e){return e instanceof File||e instanceof FileList}function R(e,t){for(const r in t)e[r]=O(t[r])}function O(e){if(e===null)return null;if(T(e))return e;if(Array.isArray(e)){const t=[];for(const r in e)e.hasOwnProperty(r)&&(t[r]=O(e[r]));return t}if(typeof e=="object"){const t={};for(const r in e)e.hasOwnProperty(r)&&(t[r]=O(e[r]));return t}return e}function k(e,t=new FormData,r=null){if(e===null||e==="undefined"||e.length===0)return t.append(r,e);for(const i in e)e.hasOwnProperty(i)&&de(t,ge(r,i),e[i]);return t}function ge(e,t){return e?e+"["+t+"]":t}function de(e,t,r){if(r instanceof Date)return e.append(t,r.toISOString());if(r instanceof File)return e.append(t,r,r.name);if(typeof r=="boolean")return e.append(t,r?"1":"0");if(r===null)return e.append(t,"");if(typeof r!="object")return e.append(t,r);k(r,e,t)}const me=["__http","__options","__validateRequestType","clear","data","delete","errors","getError","getErrors","hasError","initial","onFail","only","onSuccess","patch","populate","post","processing","successful","put","reset","submit","withData","withErrors","withOptions"];function L(e){if(me.indexOf(e)!==-1)throw new Error(`Field name ${e} isn't allowed to be used in a Form or Errors instance.`)}function ve(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function _e(e){return e%4==0&&e%100!=0||e%400==0}function ye(e=""){if(e.length===10){let r=e.replace(".","-").replace("/","-").split("-");if(r.length===3&&r[0].length===4){let i=parseInt(r[0]),s=parseInt(r[1]),n=parseInt(r[2]);if(s===2){if(_e(i)){if(n>29)return!1}else if(n>28)return!1}if((s===4||s===6||s===9||s===11)&&n>30)return!1}return!0}return!0}function p(e){let t;if(typeof e=="number"&&(t=new Date(e),typeof t=="object"))return!0;if(t=new Date(e),typeof t=="object")return!(t.toString()==="Invalid Date"||!ye(e));var r=/^\d{4}\-\d{1,2}\-\d{1,2}$/;if(!r.test(e))return!1;var i=e.split("-"),s=parseInt(i[2],10),n=parseInt(i[1],10),a=parseInt(i[0],10);if(a<1e3||a>3e3||n==0||n>12)return!1;var o=[31,28,31,30,31,30,31,31,30,31,30,31];return(a%400==0||a%100!=0&&a%4==0)&&(o[1]=29),s>0&&s<=o[n-1]}var y={required:function(e){var t;return e==null?!1:(t=String(e).replace(/\s/g,""),t.length>0)},required_if:function(e,t,r){return t=this.getParameters(),this.validator._objectPath(this.validator.input,t[0])===t[1]?this.validator.getRule("required").validate(e):!0},required_unless:function(e,t,r){return t=this.getParameters(),this.validator._objectPath(this.validator.input,t[0])!==t[1]?this.validator.getRule("required").validate(e):!0},required_with:function(e,t,r){return this.validator._objectPath(this.validator.input,t)?this.validator.getRule("required").validate(e):!0},required_with_all:function(e,t,r){t=this.getParameters();for(var i=0;i<t.length;i++)if(!this.validator._objectPath(this.validator.input,t[i]))return!0;return this.validator.getRule("required").validate(e)},required_without:function(e,t,r){return this.validator._objectPath(this.validator.input,t)?!0:this.validator.getRule("required").validate(e)},required_without_all:function(e,t,r){t=this.getParameters();for(var i=0;i<t.length;i++)if(this.validator._objectPath(this.validator.input,t[i]))return!0;return this.validator.getRule("required").validate(e)},boolean:function(e){return e===!0||e===!1||e===0||e===1||e==="0"||e==="1"||e==="true"||e==="false"},size:function(e,t,r){if(e){t=parseFloat(t);var i=this.getSize();return i===t}return!0},string:function(e,t,r){return typeof e=="string"},sometimes:function(e){return!0},min:function(e,t,r){var i=this.getSize();return i>=t},max:function(e,t,r){var i=this.getSize();return i<=t},between:function(e,t,r){t=this.getParameters();var i=this.getSize(),s=parseFloat(t[0],10),n=parseFloat(t[1],10);return i>=s&&i<=n},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||(t=/^((?:[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]|[^\u0000-\u007F])+@(?:[a-zA-Z0-9]|[^\u0000-\u007F])(?:(?:[a-zA-Z0-9-]|[^\u0000-\u007F]){0,61}(?:[a-zA-Z0-9]|[^\u0000-\u007F]))?(?:\.(?:[a-zA-Z0-9]|[^\u0000-\u007F])(?:(?:[a-zA-Z0-9-]|[^\u0000-\u007F]){0,61}(?:[a-zA-Z0-9]|[^\u0000-\u007F]))?)+)*$/),t.test(e)},numeric:function(e){var t;return t=Number(e),typeof t=="number"&&!isNaN(t)&&typeof e!="boolean"},array:function(e){return e instanceof Array},url:function(e){return/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_\+.~#?&/=]*)/i.test(e)},alpha:function(e){return/^[a-zA-Z]+$/.test(e)},alpha_dash:function(e){return/^[a-zA-Z0-9_\-]+$/.test(e)},alpha_num:function(e){return/^[a-zA-Z0-9]+$/.test(e)},same:function(e,t){var r=this.validator._flattenObject(this.validator.input)[t],i=e;return r===i},different:function(e,t){var r=this.validator._flattenObject(this.validator.input)[t],i=e;return r!==i},in:function(e,t){var r,i;if(e&&(r=this.getParameters()),e&&!(e instanceof Array)){var s=e;for(i=0;i<r.length;i++)if(typeof r[i]=="string"&&(s=String(e)),s===r[i])return!0;return!1}if(e&&e instanceof Array){for(i=0;i<e.length;i++)if(r.indexOf(e[i])<0)return!1}return!0},not_in:function(e,t){for(var r=this.getParameters(),i=r.length,s=!0,n=0;n<i;n++){var a=e;if(typeof r[n]=="string"&&(a=String(e)),a===r[n]){s=!1;break}}return s},accepted:function(e){return e==="on"||e==="yes"||e===1||e==="1"||e===!0},confirmed:function(e,t,r){var i=r+"_confirmation";return this.validator.input[i]===e},integer:function(e){return String(parseInt(e,10))===String(e)},digits:function(e,t){var r=this.validator.getRule("numeric");return!!(r.validate(e)&&String(e.trim()).length===parseInt(t))},digits_between:function(e){var t=this.validator.getRule("numeric"),r=this.getParameters(),i=String(e).length,s=parseFloat(r[0],10),n=parseFloat(r[1],10);return!!(t.validate(e)&&i>=s&&i<=n)},regex:function(e,t){var r=/[g|i|m]{1,3}$/,i=t.match(r);return i=i?i[0]:"",t=t.replace(r,"").slice(1,-1),t=new RegExp(t,i),!!t.test(e)},date:function(e,t){return p(e)},present:function(e){return typeof e!="undefined"},after:function(e,t){var r=this.validator.input[t],i=e;return!p(r)||!p(i)?!1:new Date(r).getTime()<new Date(i).getTime()},after_or_equal:function(e,t){var r=this.validator.input[t],i=e;return!p(r)||!p(i)?!1:new Date(r).getTime()<=new Date(i).getTime()},before:function(e,t){var r=this.validator.input[t],i=e;return!p(r)||!p(i)?!1:new Date(r).getTime()>new Date(i).getTime()},before_or_equal:function(e,t){var r=this.validator.input[t],i=e;return!p(r)||!p(i)?!1:new Date(r).getTime()>=new Date(i).getTime()},hex:function(e){return/^[0-9a-f]+$/i.test(e)},ipv4:function(e,t,r){if(typeof e!="string")return!1;var i=/^[0-9]+$/;if(octets=e.split("."),octets.length!=4)return!1;for(let n=0;n<octets.length;n++){const a=octets[n];if(!i.test(a))return!1;var s=parseInt(a);if(s>=256)return!1}return!0},ipv6:function(e,t,r){if(typeof e!="string")return!1;var i=/^[0-9a-f]+$/;if(hextets=e.split(":"),colons=e.match(/::/),colons!=null&&e.match(/::/g).length>1||e[0]==":"&&(colons==null||colons!=null&&colons.index!=0)||e[e.length-1]==":"&&(colons==null||colons!=null&&colons.index!=e.length-2)||3>hextets.length)return!1;var s=hextets.length==9&&colons!=null&&(colons.index==0||colons.index==e.length-2);if(hextets.length>8&&!s||hextets.length!=8&&colons==null)return!1;for(let n=0;n<hextets.length;n++){const a=hextets[n];if(a.length!=0&&(!i.test(a)||a.length>4))return!1}return!0},ip:function(e,t,r){return y.ipv4(e,t,r)||y.ipv6(e,t,r)}},V=function(){throw new Error("Validator `"+this.name+"` is not defined!")},U;function Z(e,t,r){this.name=e,this.fn=t,this.passes=null,this._customMessage=void 0,this.async=r}Z.prototype={validate:function(e,t,r,i){var s=this;if(this._setValidatingData(r,e,t),typeof i=="function"){this.callback=i;var n=function(a,o){s.response(a,o)};return this.async?this._apply(e,t,r,n):n(this._apply(e,t,r))}return this._apply(e,t,r)},_apply:function(e,t,r,i){var s=this.isMissed()?V:this.fn;return s.apply(this,[e,t,r,i])},_setValidatingData:function(e,t,r){this.attribute=e,this.inputValue=t,this.ruleValue=r},getParameters:function(){var e=[];return typeof this.ruleValue=="string"&&(e=this.ruleValue.split(",")),typeof this.ruleValue=="number"&&e.push(this.ruleValue),this.ruleValue instanceof Array&&(e=this.ruleValue),e},getSize:function(){var e=this.inputValue;return e instanceof Array?e.length:typeof e=="number"?e:this.validator._hasNumericRule(this.attribute)?parseFloat(e,10):e.length},_getValueType:function(){return typeof this.inputValue=="number"||this.validator._hasNumericRule(this.attribute)?"numeric":"string"},response:function(e,t){this.passes=e===void 0||e===!0,this._customMessage=t,this.callback(this.passes,t)},setValidator:function(e){this.validator=e},isMissed:function(){return typeof this.fn!="function"},get customMessage(){return this.isMissed()?U:this._customMessage}};var be={asyncRules:[],implicitRules:["required","required_if","required_unless","required_with","required_with_all","required_without","required_without_all","accepted","present"],make:function(e,t){var r=this.isAsync(e),i=new Z(e,y[e],r);return i.setValidator(t),i},isAsync:function(e){for(var t=0,r=this.asyncRules.length;t<r;t++)if(this.asyncRules[t]===e)return!0;return!1},isImplicit:function(e){return this.implicitRules.indexOf(e)>-1},register:function(e,t){y[e]=t},registerImplicit:function(e,t){this.register(e,t),this.implicitRules.push(e)},registerAsync:function(e,t){this.register(e,t),this.asyncRules.push(e)},registerAsyncImplicit:function(e,t){this.registerImplicit(e,t),this.asyncRules.push(e)},registerMissedRuleValidator:function(e,t){V=e,U=t}},we=be,Pe={between:function(e,t){var r=t.getParameters();return this._replacePlaceholders(t,e,{min:r[0],max:r[1]})},digits_between:function(e,t){var r=t.getParameters();return this._replacePlaceholders(t,e,{min:r[0],max:r[1]})},required_if:function(e,t){var r=t.getParameters();return this._replacePlaceholders(t,e,{other:this._getAttributeName(r[0]),value:r[1]})},required_unless:function(e,t){var r=t.getParameters();return this._replacePlaceholders(t,e,{other:this._getAttributeName(r[0]),value:r[1]})},required_with:function(e,t){var r=t.getParameters();return this._replacePlaceholders(t,e,{field:this._getAttributeName(r[0])})},required_with_all:function(e,t){var r=t.getParameters(),i=this._getAttributeName.bind(this);return this._replacePlaceholders(t,e,{fields:r.map(i).join(", ")})},required_without:function(e,t){var r=t.getParameters();return this._replacePlaceholders(t,e,{field:this._getAttributeName(r[0])})},required_without_all:function(e,t){var r=t.getParameters(),i=this._getAttributeName.bind(this);return this._replacePlaceholders(t,e,{fields:r.map(i).join(", ")})},after:function(e,t){var r=t.getParameters();return this._replacePlaceholders(t,e,{after:this._getAttributeName(r[0])})},before:function(e,t){var r=t.getParameters();return this._replacePlaceholders(t,e,{before:this._getAttributeName(r[0])})},after_or_equal:function(e,t){var r=t.getParameters();return this._replacePlaceholders(t,e,{after_or_equal:this._getAttributeName(r[0])})},before_or_equal:function(e,t){var r=t.getParameters();return this._replacePlaceholders(t,e,{before_or_equal:this._getAttributeName(r[0])})},same:function(e,t){var r=t.getParameters();return this._replacePlaceholders(t,e,{same:this._getAttributeName(r[0])})}};function Ae(e){return e.replace(/[_\[]/g," ").replace(/]/g,"")}var W={replacements:Pe,formatter:Ae},K=W,F=function(e,t){this.lang=e,this.messages=t,this.customMessages={},this.attributeNames={}};F.prototype={constructor:F,_setCustom:function(e){this.customMessages=e||{}},_setAttributeNames:function(e){this.attributeNames=e},_setAttributeFormatter:function(e){this.attributeFormatter=e},_getAttributeName:function(e){var t=e;return this.attributeNames.hasOwnProperty(e)?this.attributeNames[e]:(this.messages.attributes.hasOwnProperty(e)&&(t=this.messages.attributes[e]),this.attributeFormatter&&(t=this.attributeFormatter(t)),t)},all:function(){return this.messages},render:function(e){if(e.customMessage)return e.customMessage;var t=this._getTemplate(e),r;return K.replacements[e.name]?r=K.replacements[e.name].apply(this,[t,e]):r=this._replacePlaceholders(e,t,{}),r},_getTemplate:function(e){for(var t=this.messages,r=t.def,i=this.customMessages,s=[e.name+"."+e.attribute,e.name],n=0,a;n<s.length;n++)if(a=s[n],i.hasOwnProperty(a)){r=i[a];break}else if(t.hasOwnProperty(a)){r=t[a];break}return typeof r=="object"&&(r=r[e._getValueType()]),r},_replacePlaceholders:function(e,t,r){var i,s;if(r.attribute=this._getAttributeName(e.attribute),r[e.name]=r[e.name]||e.getParameters().join(","),typeof t=="string"&&typeof r=="object"){i=t;for(s in r)i=i.replace(new RegExp(":"+s,"g"),r[s])}return i}};var Re=F,Oe=Re,Fe=ve,$e={messages:{},_set:function(e,t){this.messages[e]=t},_setRuleMessage:function(e,t,r){this._load(e),r===void 0&&(r=this.messages[e].def),this.messages[e][t]=r},_load:function(e){if(!this.messages[e])try{var t=Fe("./lang/"+e);this._set(e,t)}catch(r){}},_get:function(e){return this._load(e),this.messages[e]},_make:function(e){return this._load(e),new Oe(e,this.messages[e])}},xe=$e,$=function(){this.errors={}};$.prototype={constructor:$,add:function(e,t){this.has(e)||(this.errors[e]=[]),this.errors[e].indexOf(t)===-1&&this.errors[e].push(t)},get:function(e){return this.has(e)?this.errors[e]:[]},first:function(e){return this.has(e)?this.errors[e][0]:!1},all:function(){return this.errors},has:function(e){return!!this.errors.hasOwnProperty(e)}};var De=$;function H(e,t){this.onResolvedAll=t,this.onFailedOne=e,this.resolvers={},this.resolversCount=0,this.passed=[],this.failed=[],this.firing=!1}H.prototype={add:function(e){var t=this.resolversCount;return this.resolvers[t]=e,this.resolversCount++,t},resolve:function(e){var t=this.resolvers[e];t.passes===!0?this.passed.push(t):t.passes===!1&&(this.failed.push(t),this.onFailedOne(t)),this.fire()},isAllResolved:function(){return this.passed.length+this.failed.length===this.resolversCount},fire:function(){!this.firing||this.isAllResolved()&&this.onResolvedAll(this.failed.length===0)},enableFiring:function(){this.firing=!0}};var Ne=H,g=we,m=xe,Me=De,Ee=W,Ce=Ne,f=function(e,t,r){var i=f.getDefaultLang();this.input=e||{},this.messages=m._make(i),this.messages._setCustom(r),this.setAttributeFormatter(f.prototype.attributeFormatter),this.errors=new Me,this.errorCount=0,this.hasAsync=!1,this.rules=this._parseRules(t)};f.prototype={constructor:f,lang:"en",numericRules:["integer","numeric"],attributeFormatter:Ee.formatter,check:function(){for(var e in this.rules){var t=this.rules[e],r=this._objectPath(this.input,e);if(!(this._hasRule(e,["sometimes"])&&!this._suppliedWithData(e)))for(var i=0,s=t.length,n,a,o;i<s&&(a=t[i],n=this.getRule(a.name),!(!!this._isValidatable(n,r)&&(o=n.validate(r,a.value,e),o||this._addFailure(n),this._shouldStopValidating(e,o))));i++);}return this.errorCount===0},checkAsync:function(e,t){var r=this;e=e||function(){},t=t||function(){};var i=function(_,q){r._addFailure(_,q)},s=function(_){_?e():t()},n=new Ce(i,s),a=function(_,q,je,Q){return function(){var Ie=n.add(Q);Q.validate(_,q.value,je,function(){n.resolve(Ie)})}};for(var o in this.rules){var w=this.rules[o],J=this._objectPath(this.input,o);if(!(this._hasRule(o,["sometimes"])&&!this._suppliedWithData(o)))for(var M=0,ze=w.length,E,C;M<ze;M++)C=w[M],E=this.getRule(C.name),!!this._isValidatable(E,J)&&a(J,C,o,E)()}n.enableFiring(),n.fire()},_addFailure:function(e){var t=this.messages.render(e);this.errors.add(e.attribute,t),this.errorCount++},_flattenObject:function(e){var t={};function r(i,s){if(!(!s&&Object.getOwnPropertyNames(i).length===0))if(Object(i)!==i||Array.isArray(i))t[s]=i;else{var n=!0;for(var a in i)n=!1,r(i[a],s?s+"."+a:a);n&&(t[s]={})}}return e&&r(e),t},_objectPath:function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];var r=t.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split("."),i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s]);for(var n=0,a=r.length;n<a;n++)if(typeof i=="object"&&i!==null&&Object.hasOwnProperty.call(i,r[n]))i=i[r[n]];else return;return i},_parseRules:function(e){var t={};e=this._flattenObject(e);for(var r in e){var i=e[r];this._parseRulesCheck(r,i,t)}return t},_parseRulesCheck:function(e,t,r,i){e.indexOf("*")>-1?this._parsedRulesRecurse(e,t,r,i):this._parseRulesDefault(e,t,r,i)},_parsedRulesRecurse:function(e,t,r,i){var s=e.substr(0,e.indexOf("*")-1),n=this._objectPath(this.input,s);if(n)for(var a=0;a<n.length;a++){var o=i?i.slice():[];o.push(a),this._parseRulesCheck(e.replace("*",a),t,r,o)}},_parseRulesDefault:function(e,t,r,i){var s=[];t instanceof Array&&(t=this._prepareRulesArray(t)),typeof t=="string"&&(t=t.split("|"));for(var n=0,a=t.length,o;n<a;n++)o=typeof t[n]=="string"?this._extractRuleAndRuleValue(t[n]):t[n],o.value&&(o.value=this._replaceWildCards(o.value,i),this._replaceWildCardsMessages(i)),g.isAsync(o.name)&&(this.hasAsync=!0),s.push(o);r[e]=s},_replaceWildCards:function(e,t){if(!t)return e;var r=e;return t.forEach(function(i){Array.isArray(r)&&(r=r[0]);const s=r.indexOf("*");if(s===-1)return r;r=r.substr(0,s)+i+r.substr(s+1)}),Array.isArray(e)&&(e[0]=r,r=e),r},_replaceWildCardsMessages:function(e){var t=this.messages.customMessages,r=this;Object.keys(t).forEach(function(i){if(e){var s=r._replaceWildCards(i,e);t[s]=t[i]}}),this.messages._setCustom(t)},_prepareRulesArray:function(e){for(var t=[],r=0,i=e.length;r<i;r++)if(typeof e[r]=="object")for(var s in e[r])t.push({name:s,value:e[r][s]});else t.push(e[r]);return t},_suppliedWithData:function(e){return this.input.hasOwnProperty(e)},_extractRuleAndRuleValue:function(e){var t={},r;return t.name=e,e.indexOf(":")>=0&&(r=e.split(":"),t.name=r[0],t.value=r.slice(1).join(":")),t},_hasRule:function(e,t){for(var r=this.rules[e]||[],i=0,s=r.length;i<s;i++)if(t.indexOf(r[i].name)>-1)return!0;return!1},_hasNumericRule:function(e){return this._hasRule(e,this.numericRules)},_isValidatable:function(e,t){return Array.isArray(t)||g.isImplicit(e.name)?!0:this.getRule("required").validate(t)},_shouldStopValidating:function(e,t){var r=this.stopOnAttributes;return typeof r=="undefined"||r===!1||t===!0?!1:r instanceof Array?r.indexOf(e)>-1:!0},setAttributeNames:function(e){this.messages._setAttributeNames(e)},setAttributeFormatter:function(e){this.messages._setAttributeFormatter(e)},getRule:function(e){return g.make(e,this)},stopOnError:function(e){this.stopOnAttributes=e},passes:function(e){var t=this._checkAsync("passes",e);return t?this.checkAsync(e):this.check()},fails:function(e){var t=this._checkAsync("fails",e);return t?this.checkAsync(function(){},e):!this.check()},_checkAsync:function(e,t){var r=typeof t=="function";if(this.hasAsync&&!r)throw e+" expects a callback when async rules are being tested.";return this.hasAsync||r}},f.setMessages=function(e,t){return m._set(e,t),this},f.getMessages=function(e){return m._get(e)},f.useLang=function(e){this.prototype.lang=e},f.getDefaultLang=function(){return this.prototype.lang},f.setAttributeFormatter=function(e){this.prototype.attributeFormatter=e},f.stopOnError=function(e){this.prototype.stopOnAttributes=e},f.register=function(e,t,r,i){var s=f.getDefaultLang();g.register(e,t),m._setRuleMessage(s,e,r)},f.registerImplicit=function(e,t,r,i){var s=f.getDefaultLang();g.registerImplicit(e,t),m._setRuleMessage(s,e,r)},f.registerAsync=function(e,t,r,i){var s=f.getDefaultLang();g.registerAsync(e,t),m._setRuleMessage(s,e,r)},f.registerAsyncImplicit=function(e,t,r){var i=f.getDefaultLang();g.registerAsyncImplicit(e,t),m._setRuleMessage(i,e,r)},f.registerMissedRuleValidator=function(e,t){g.registerMissedRuleValidator(e,t)};var B=f,qe=Object.freeze(he({__proto__:null,[Symbol.toStringTag]:"Module",default:B},[B]));class b{constructor(t={},r={}){v(this,"processing"),v(this,"successful"),v(this,"errors"),v(this,"__options"),v(this,"initial"),this.processing=!1,this.successful=!1,this.withData(t).withOptions(r).withErrors({})}withData(t){pe(t)&&(t=t.reduce((r,i)=>(r[i]="",r),{})),this.setInitialValues(t),this.errors=new I,this.processing=!1,this.successful=!1;for(const r in t)L(r),this[r]=t[r];return this}withErrors(t){return this.errors=new I(t),this}withOptions(t){this.__options={resetOnSuccess:!0},t.hasOwnProperty("resetOnSuccess")&&(this.__options.resetOnSuccess=t.resetOnSuccess),t.hasOwnProperty("onSuccess")&&(this.onSuccess=t.onSuccess),t.hasOwnProperty("onFail")&&(this.onFail=t.onFail);const r=typeof window=="undefined"?!1:window.axios;if(this.__http=t.http||r||A.axios,!this.__http)throw new Error("No http library provided. Either pass an http option, or install axios.");return this}data(){const t={};for(const r in this.initial)t[r]=this[r];return t}only(t){return t.reduce((r,i)=>(r[i]=this[i],r),{})}reset(){R(this,this.initial),this.errors.clear()}setInitialValues(t){this.initial={},R(this.initial,t)}populate(t){return Object.keys(t).forEach(r=>{L(r),this.hasOwnProperty(r)&&R(this,{[r]:t[r]})}),this}clear(){for(const t in this.initial)this[t]="";this.errors.clear()}post(t){return this.submit("post",t)}put(t){return this.submit("put",t)}patch(t){return this.submit("patch",t)}delete(t){return this.submit("delete",t)}submit(t,r){return this.__validateRequestType(t),this.errors.clear(),this.processing=!0,this.successful=!1,new Promise((i,s)=>{this.__http[t](r,this.hasFiles()?k(this.data()):this.data()).then(n=>{this.processing=!1,this.onSuccess(n.data),i(n.data)}).catch(n=>{this.processing=!1,this.onFail(n),s(n)})})}hasFiles(){for(const t in this.initial)if(this.hasFilesDeep(this[t]))return!0;return!1}hasFilesDeep(t){if(t===null)return!1;if(typeof t=="object"){for(const r in t)if(t.hasOwnProperty(r)&&this.hasFilesDeep(t[r]))return!0}if(Array.isArray(t)){for(const r in t)if(t.hasOwnProperty(r))return this.hasFilesDeep(t[r])}return T(t)}onSuccess(t){this.successful=!0,this.__options.resetOnSuccess&&this.reset()}onFail(t){this.successful=!1,t.response&&t.response.data.errors&&this.errors.record(t.response.data.errors)}hasError(t){return this.errors.has(t)}getError(t){return this.errors.first(t)}getErrors(t){return this.errors.get(t)}__validateRequestType(t){const r=["get","delete","head","post","put","patch"];if(r.indexOf(t)===-1)throw new Error(`\`${t}\` is not a valid request type, must be one of: \`${r.join("`, `")}\`.`)}validate(t,r){this.errors.clear(),this.processing=!0,this.successful=!1;let i=new qe(this.data(),t);i.fails()?(this.successful=!1,this.errors.record(i.errors.all())):this.successful=!0}static create(t={}){return new b().withData(t)}}let x,D,h,d,N,Y,G;l.useUp=void 0;const Se={install:(e,t)=>{h=new ae(t);const r=h.get("override")||{};if(e.config.globalProperties.$config=h.get("override.config")||h,e.config.globalProperties.$http=D=h.get("override.http")||A.axios.create(),e.config.globalProperties.$api=x=h.get("override.api")||A.axios.create({baseURL:t.api.url}),e.config.globalProperties.$message=h.get("override.message")||c.message,e.config.globalProperties.$notification=h.get("override.notification")||c.notification,h.has("exclude.form")||(Y=function(i,s){return new b(i,P({http:D},s))},G=function(i,s){return new b(i,P({http:x},s))}),typeof t.store!="undefined"&&t.storeMode==="vuex"?N=t.store:N=u.reactive({user:null,menus:null}),!h.has("exclude.i18n")){const i=t.translations[t.locale];d=ie(i,t.locale,{globalName:"translations",forceDisplayKeys:!0,storeNotFounds:!0}),e.use(se,{translations:i,language:t.locale,options:t.i18n})}if(h.has("exclude.antd")||e.use(re.default),e.provide("UpVue",t),e.component("UpLayout",j),!l.useUp){const i=P({api:x,http:D,config:h,store:N,form:Y,formApi:G,message:c.message,notification:c.notification,i18n:d,__:d.__.bind(d),t:d.__.bind(d),choice:d.choice.bind(d)},r);h.has("debug")&&console.log("\u2934 useUp() accessible vars :",i),l.useUp=()=>i}}};l.UpLayout=j,l.UpVue=Se,Object.defineProperty(l,"__esModule",{value:!0}),l[Symbol.toStringTag]="Module"});
